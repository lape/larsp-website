<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bridgetown with Github Pages and custom domain | larsp.dev</title>

<link type="application/atom+xml" rel="alternate" href="https://larsp.dev/feed.xml" title="larsp.dev" />
<link rel="stylesheet" href="/_bridgetown/static/index.5D6DGW5F.css" />
<script src="/_bridgetown/static/index.PJZZ2K4I.js" defer></script>
<script src="https://unpkg.com/feather-icons"></script>


  </head>
  <body class="post ">
    <header>
  <h2>larsp.dev</h2>
</header>

<nav>
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/posts">Blog</a></li>
  </ul>
</nav>


    <main>
      <h1>Bridgetown with Github Pages and custom domain</h1>

<p>For this personal website, I wanted to keep it lean and minimal and the blogging software or CMS should stay out of the way. It shouldn’t be a hassle to maintain or update. So in 2022 I started this site with the <a href="https://bridgetownrb.com/">Bridgetown</a> static site generator. And so far, it’s going well.</p>

<p>Having become quite an avid fan of Ruby in my recent developer years, a Ruby-powered static site generator seems a good fit. Bridgetown stands on the shoulders of <a href="https://jekyllrb.com">Jekyll</a>, which became immensely popular through Github Pages.</p>

<blockquote>
  <p><em>“Like the Ruby language itself, Bridgetown is optimized for web developer happiness.”</em></p>
</blockquote>

<p>There is an undeniable appeal to static websites. Fast and simple, solid and staying as they are, without surprises (usually).</p>

<h2 id="build-and-deploy-on-github">Build and deploy on Github</h2>

<p>Thanks to <a href="https://twitter.com/andrewmcodes">@andrewmcodes</a> for the writeup on <a href="https://andrewm.codes/deploy-bridgetown-to-github-pages/">how to setup the Bridgetown Github Pages plugin</a> to automatically publish a site when pushing new content.</p>

<p>I noticed that in order to get the deployment working with a custom domain the <em>cname</em> setting has to be included in the workflow file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># .github/workflows/gh-pages.yml (Deploy section)</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Deploy</span>
  <span class="na">uses</span><span class="pi">:</span> <span class="s">peaceiris/actions-gh-pages@v3</span>
  <span class="na">with</span><span class="pi">:</span>
    <span class="na">github_token</span><span class="pi">:</span> <span class="s">${{ secrets.GITHUB_TOKEN }}</span>
    <span class="na">publish_dir</span><span class="pi">:</span> <span class="s">./output</span>
    <span class="na">cname</span><span class="pi">:</span> <span class="s">larsp.dev</span>
</code></pre></div></div>

<p>To prevent the auto reload script from being included in the deployed code I also changed the build environment in the Rakefile to <em>production</em>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Rakefile</span>
<span class="n">desc</span> <span class="s2">"Build the Bridgetown site for deployment"</span>
<span class="n">task</span> <span class="ss">:deploy</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:clean</span><span class="p">,</span> <span class="s2">"frontend:build"</span><span class="p">]</span> <span class="k">do</span>
  <span class="no">ENV</span><span class="p">[</span><span class="s2">"BRIDGETOWN_ENV"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"production"</span>
  <span class="no">Bridgetown</span><span class="o">::</span><span class="no">Commands</span><span class="o">::</span><span class="no">Build</span><span class="p">.</span><span class="nf">start</span>
<span class="k">end</span>
</code></pre></div></div>

<p>View this site’s source on <a href="https://github.com/lape/larsp-website">Github</a>.</p>

<ul>
  <li><a href="https://bridgetownrb.com/">Bridgetown</a></li>
  <li><a href="https://github.com/bridgetownrb/bridgetown">Bridgetown’s Github repo</a></li>
  <li><a href="https://andrewm.codes/deploy-bridgetown-to-github-pages/">How to Deploy Your Bridgetown Site to Github Pages — andrewm.codes</a></li>
</ul>


Comments? Share your opinion on <a href="https://twitter.com/lape">Twitter</a>

    </main>

    <footer>
  Contact me at <a href="mailto:hello@larsp.dev">hello@larsp.dev</a>
</footer>


    <!-- Feather icon font -->
    <script>feather.replace()</script>

    <!-- Fathom -->
    <script src="https://static.larsp.dev/script.js" data-site="QSDCBJIK" defer></script>
  </body>
</html>
